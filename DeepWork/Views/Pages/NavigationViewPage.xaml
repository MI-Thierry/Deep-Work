<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="DeepWork.Views.Pages.NavigationViewPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:DeepWork.Views.Pages"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Transparent"
	DataContext="{x:Bind ViewModel}">

	<Grid>
		<NavigationView MenuItemsSource="{Binding MenuItems}"
						IsBackEnabled="{Binding ElementName=ContentFrame, Path=CanGoBack}"
						CompactModeThresholdWidth="{x:Bind NavViewCompactModeThresholdWidth}"
						IsBackButtonVisible="Collapsed"
						ItemInvoked="NavigationView_ItemInvoked"
						BackRequested="NavigationView_BackRequested"
						SelectedItem="{Binding MenuItems[0]}">
			
			<Frame x:Name="ContentFrame"
				   NavigationFailed="ContentFrame_NavigationFailed"
				   IsTabStop="True"/>
		</NavigationView>
		
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup>
				<VisualState>
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="{x:Bind NavViewCompactModeThresholdWidth}"/>
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="NavView.PanelDisplayMode" Value="Top"/>
					</VisualState.Setters>
				</VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>
	</Grid>
</Page>
